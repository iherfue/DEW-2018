<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>

        /**
         * [Jugador es una clase se utiliza funcion constructora]
         * @param       {[string]} nombre       [nombre jugador]
         * @param       {[int]} numeroVidas  [el numero de vidas]
         * @param       {[boolean]} tienePistola [description]
         * @param       {[type]} tieneGranada [description]
         * @param       {[int]} numeroBalas  [description]
         * @constructor
         */
        function Jugador(nombre,numeroVidas,tienePistola,tieneGranada,numeroBalas){

            this._nombre = nombre;
            this._numeroVidas = numeroVidas;
            this._tienePistola = tienePistola;
            this._tieneGranada = tieneGranada;
            this._numeroBalas = numeroBalas;

            if(tienePistola == "No"){

                this._numeroBalas = 0;
            }

            //getter y setters
            this.getNombre = getNombre;
            this.setNombre = setNombre;
            this.getVidas = getVidas;
            this.setVidas = setVidas;
            this.getPistola = getPistola;
            this.setPistola = setPistola;
            this.getGranada = getGranada;
            this.setGranada = getGranada;
            this.getBalas = getBalas;
            this.setBalas = setBalas;

            this.toString = toString;
        }

            function getNombre(){

                return this._nombre;
            }

            function setNombre(nombre){

                return this._nombre = nombre;
            }

            function getVidas(){

                return this._numeroVidas;
            }

            function setVidas(vidas){

                return this._numeroVidas = vidas;
            }

            function getPistola(){

                return this._tienePistola;
            }

            function setPistola(pistola){

                return this._tienePistola = pistola;
            }

            function getGranada(){

                return this._tieneGranada;
            }

            function setGranada(granada){

                return this._tieneGranada = granada;
            }

            function getBalas(){

                return this._numeroBalas;
            }

            function setBalas(balas){

                return this._numeroBalas = balas;
            }

           function toString(){

             console.log(`El jugador ${this._nombre} tiene ${this._numeroVidas} vidas, ${this._tienePistola} tiene pistola con ${this._numeroBalas} balas y ${this._tieneGranada} tiene granada`);

           }

           //instancias
        var ivan = new Jugador("Ivan","3","Si","No","5");

        ivan.toString();


        var andres = new Jugador("Andres","7","No","Si");

        andres.toString();

        var joaquin = new Jugador("Joaquin","2","Si","Si","20");

        joaquin.toString();


        //CLASE PARTIDA
        function Partida(){

          /**
           * [_jugadores array con instancias de Jugador]
           * @type {Array}
           */
            this._jugadores = [ivan,andres,joaquin]; //metemos en el array el objeto y asi poder entrar en las propiedades

            this.imprime = imprime;
            this.ruletaRusa = ruletaRusa;
        }



        function imprime(){

            for(var i = 0; i < this._jugadores.length; i++){

                console.log(this._jugadores[i]._nombre + " tiene " + this._jugadores[i]._numeroVidas + " vidas");
            }
        }

        function ruletaRusa(){

            var numeroJugadores = this._jugadores.length;
            var posicion = Math.floor((Math.random() * numeroJugadores));
         //   console.log(this._jugadores[0]._numeroVidas);

            this._jugadores[posicion].setVidas(0);//Se accede a la posiciÃ³n del array this_jugadores , donde accedemos a la propiedad numerovidas
            console.log(`En la ruleta rusa salio ${this._jugadores[posicion]._nombre}`)
        }

        var partida = new Partida();
        partida.imprime();
        partida.ruletaRusa();
        partida.imprime();


    </script>
</body>
</html>
